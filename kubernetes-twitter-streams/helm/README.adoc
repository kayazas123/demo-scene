= Kafka Twitter Connector for Kubernetes
Viktor Gamov <viktor@confluent.io>, Â© 2018 Confluent, Inc.
2018-12-06
:revdate: 2018-12-06 22:18:21 -0600
:linkattrs:
:ast: &ast;
:y: &#10003;
:n: &#10008;
:y: icon:check-sign[role="green"]
:n: icon:check-minus[role="red"]
:c: icon:file-text-alt[role="blue"]
:toc: auto
:toc-placement: auto
:toc-position: right
:toc-title: Table of content
:toclevels: 3
:idprefix:
:idseparator: -
:sectanchors:
:icons: font
:source-highlighter: highlight.js
:highlightjs-theme: idea
:experimental:

For now, it's a scratch pad of bringing tweeting demo to Kubernetes

toc::[]

== Prerequisite

Provision Confluent Platform

----
helm install --dry-run -f ./providers/kubecon.yaml ./confluent-operator --name confluent-platform --namespace operator --debug  #<1>
helm install -f ./providers/kubecon.yaml ./confluent-operator --name confluent-platform --namespace operator  #<2>
----
<1> dry run command
<2> deploy

.Dry run commands
----
helm install --dry-run -f ./kafka-connect-twitter/values.yaml ./kafka-connect-twitter --name connect-twitter --namespace operator --set kafka.bootstrapEndpoint=kafka:9071 --debug | c -l yaml
----


.Deploy Chart
----
helm install -f ./kafka-connect-twitter/values.yaml ./kafka-connect-twitter --name connect-twitter --namespace operator --set kafka.bootstrapEndpoint=kafka:9071
----


== Adding Prometheus and Grafana Monitoring into the mix

JMX Metrics are enabled by default for all components, Prometheus JMX
Exporter is installed as a sidecar container along with all Pods.

.Install Prometheus and Grafana in same Kubernetes cluster using helm
----
helm install stable/prometheus
helm install stable/grafana
----

. Add Prometheus as Data Source in Grafana, url should be something like: `http://illmannered-marmot-prometheus-server:9090`
. Import dashboard under grafana-dashboard into Grafana